<style>
    input[type="radio"] {
        transform: scale(1.3);
    }
</style>
<template>
    <div class="page">
        <div class="navbar" style="background-color: #005D99;height: 5px;">
            <div class="left top-left" style="justify-content: space-between;">
                <a href="javascript:location.reload()"
                    style="margin-left: 10px; display: inline-flex;align-items: center;">
                    <i class="icon material-icons md-only" style="font-weight: 900;font-size: 30px;">arrow_back</i>
                </a>
                <div class="title" style="font-size: 18px;">Becarios</div>
                <a style="margin-right: 10px;">
                    <i class="icon material-icons md-only" style="color: #005D99; font-weight: 900;">arrow_back</i>
                </a>
            </div>
        </div>

        <div class="toolbar tabbar toolbar-bottom">
            <div class="toolbar-inner" style="background-color: #005D99;" id="toolbar_down">
                <a href="#" onclick="//guardarAsistencia();"
                    style="margin: auto;color: #fff;font-weight: bold;font-size: 18px;">Guardar <i
                        class="icon material-icons md-only" style="display: inline-block;">chevron_right</i></a>
            </div>
        </div>

        <div class="page-content" style="height: 98%;border-radius: 0px !important">
            <div
                style="text-align: center; justify-content:center; margin-right:auto; margin-left:auto; width: 99%;margin-top: 30px;">
                <div style="text-align: left;">
                    <div class="list FWM-fixing-form" id="datos_form" style="width: 100%;margin-left: 0;">
                        <h2 style="text-align: center;" id="title_asis">Propedéutico</h2>

                        <div class="list list-strong list-outline-ios list-dividers-ios inset-md accordion-list">
                            <ul>
                                <li class="accordion-item">
                                    <a class="item-link item-content">
                                    <div class="item-inner">
                                        <div class="item-title">Ver historia de calificaciones</div>
                                    </div>
                                    </a>
                                    <div class="accordion-item-content">
                                        <div class="block">
                                            <div class="card data-table" style="margin-bottom: 100px;">
                                                <div class="infinite-scroll-content">
                                                    <div class="hitii">
                                                        <div class="timeline timeline-horizontal timeline-cols-3 medium-timeline-cols-6">
                                                            <div class="timeline-year" style="padding: 0;">
                                                                <div class="timeline-month" style="padding: 0;">
                                                                    <div class="timeline-item">
                                                                        <div class="timeline-item-date">01-07-2023</div>
                                                                        <div class="timeline-item-content">
                                                                            <div class="timeline-item-time">Puntos Obtenidos</div>
                                                                            <div class="timeline-item-text">12</div>
                                                                            <div class="timeline-item-time">Calificación</div>
                                                                            <div class="timeline-item-text">9</div>
                                                                            <div class="timeline-item-time">Observaciones</div>
                                                                            <div class="timeline-item-text">No hay</div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="timeline-item">
                                                                        <div class="timeline-item-date">02-07-2023</div>
                                                                        <div class="timeline-item-content">
                                                                            <div class="timeline-item-time">Puntos Obtenidos</div>
                                                                            <div class="timeline-item-text">14</div>
                                                                            <div class="timeline-item-time">Calificación</div>
                                                                            <div class="timeline-item-text">9</div>
                                                                            <div class="timeline-item-time">Observaciones</div>
                                                                            <div class="timeline-item-text">No hay</div>
                                                                        </div>
                                                                    </div>
                                                                    <div class="timeline-item">
                                                                        <div class="timeline-item-date">03-07-2023</div>
                                                                        <div class="timeline-item-content">
                                                                            <div class="timeline-item-time">Puntos Obtenidos</div>
                                                                            <div class="timeline-item-text">16</div>
                                                                            <div class="timeline-item-time">Calificación</div>
                                                                            <div class="timeline-item-text">10</div>
                                                                            <div class="timeline-item-time">Observaciones</div>
                                                                            <div class="timeline-item-text">No hay</div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div> 

                    </div>
                    <div style="margin-bottom: 100px;"></div>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
    return {
        on: {
            pageInit: function () {

                var empresa = localStorage.getItem("empresa");
                var self = this;
                var app = self.$app;

                app.preloader.show('red');
                $('.sentencia').remove();
                app.preloader.hide();
                var id_instructor = localStorage.getItem("id_usuario");
                var NomJson = 'BecariosVsInstructor_' + empresa;
                var html = '';
                app.request({
                    url: cordova.file.dataDirectory + "jsons_capacitacion/" + NomJson + ".json",
                    method: 'GET',
                    dataType: 'json',
                    success: function (data) {
                        var length = data.length;
                        if (length == 0) {
                            $("#message-nr").css("display", "block");
                        } else {
                            $("#message-nr").css("display", "block");
                            for (var j = 0; j < data.length; j++) {
                                html = '';
                                if (data[j].FKPersonalInstructor == id_instructor) {
                                    $("#message-nr").css("display", "none");
                                    html = `<tr> <td>${data[j].nameBecario}</td> 
                                        <td> 
                                            <div class="container_progress" style="text-align: center;"> 
                                                <div class="progressbar color-blue" data-progress="${data[j].promedioAvance}" id="demo_line_${data[j].ID}"></div>
                                                <span> ${data[j].promedioAvance}% de 100%</span> 
                                            </div> 
                                        </td> 
                                        <td>${data[j].fecha}</td> 
                                        <td> 
                                            <button class="col button button-small button-round button-outline" style="height: 80%;border-color: #2ECC71;" onclick="verSeguimientoCapacitacion(${data[j].ID},${data[j].FKPersonalBecario})"><i class="material-icons md-light" style="color: #2ECC71;vertical-align: middle;font-size: 30px;">play_circle_outline</i></button>
                                        </td> 
                                        </tr>`;
                                    $("#tbody_becarios").append(html);
                                    app.progressbar.set('#demo_line_' + data[j].ID, data[j].promedioAvance);
                                }
                            }
                            // $("#tbody_becarios").html(html);
                        }
                    }
                });
            }
        }
    }
</script>