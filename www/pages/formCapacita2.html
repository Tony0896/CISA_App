<style>
    input[type="radio"]{
        transform: scale(1.3);
    }
</style>
<template>
    <div class="page">
        <div class="navbar" style="background-color: #005D99;height: 5px;">
            <div class="left top-left" style="justify-content: space-between;">
                <a href="javascript:location.reload()" style="margin-left: 10px; display: inline-flex;align-items: center;">
                    <i class="icon material-icons md-only" style="font-weight: 900;font-size: 30px;">arrow_back</i>
                </a>
                <div class="title" style="font-size: 18px;">PRUEBA DE MANEJO</div>
                <a style="margin-right: 10px;">
                    <i class="icon material-icons md-only" style="color: #005D99; font-weight: 900;">arrow_back</i>
                </a>
            </div>
        </div>

        <div class="toolbar tabbar toolbar-bottom" >
            <div class="toolbar-inner" style="background-color: #005D99;" id="toolbar_down">
                <a href="#" onclick="gg();" style="margin: auto;color: #fff;font-weight: bold;font-size: 18px;">Siguiente <i class="icon material-icons md-only" style="display: inline-block;">chevron_right</i></a>
            </div>
        </div>

        <div class="page-content" style="height: 98%;border-radius: 0px !important">
            <div style="text-align: center; justify-content:center; margin-right:auto; margin-left:auto; width: 99%;margin-top: 30px;">
                <div style="text-align: left;">
                    <div class="list FWM-fixing-form" id="datos_form" style="margin-top: 5px;">
                        <h2 style="text-align: center;">Datos de Candidato</h2>
                        <div class="container-check">
                            <span class="span FWM-span-form">Fecha</span>
                            <span class="span FWM-span-form span-dato" id="fecha" name="Fecha"></span>
                        </div>
                        
                        <div class="container-check">
                            <span class="span FWM-span-form">Nombre Instructor</span>
                            <span class="span FWM-span-form span-dato" id="nombreInstructor" name="Nombre Instructor"></span>
                        </div>
                        
                        <div class="container-check">
                            <span class="span FWM-span-form">Nombre Candidato</span>
                            <span class="span FWM-span-form span-dato" id="nombreCandidato" name="Nombre Candidato"></span>
                        </div>

                        <div class="container-check">
                            <span class="span FWM-span-form">Edad</span>
                            <span class="span FWM-span-form span-dato" id="edad" name="Edad"></span>
                        </div>
                        
                        <div class="container-check">
                            <span class="span FWM-span-form">Tel. Celular</span>
                            <span class="span FWM-span-form span-dato" id="telCelular" name="Tel. Celular"></span>
                        </div>

                        <div class="container-check">
                            <span class="span FWM-span-form">Antecedentes de Manejo</span>
                            <span class="span FWM-span-form span-dato" id="antecedentesManejo" name="Antecedentes de Manejo"></span>
                        </div>

                        <br>
                        <h2 style="text-align: center;">Evaluaci√≥n</h2>

                        <div id="evaluacion_div">
                           
                        </div>

                        <div class="container_options">
                            <div class="container_options">
                                <span class="span FWM-span-form">Observaciones:</span>
                                <textarea class="FWM-input" style="font-family: 'ITC Avant Garde Gothic', sans-serif;" id="comentarios_generales" cols="30" rows="10" onchange=""></textarea>
                            </div>

                            <div class="container_options">
                                <span class="span FWM-span-form">El candidato es Apto?:</span>
                                <input class="tgl tgl-skewed" id="cb3" type="checkbox"></input>
                                <label class="tgl-btn" data-tg-off="NO" data-tg-on="SI" for="cb3" style="font-size: 20px;"></label>
                            </div>
                        </div>
                        
                    </div>
                    <div style="margin-bottom: 100px;"></div>
                </div>
            </div>
        </div>
    </div>
</template>
<script>
return {
    on: {      
        pageInit: function () {
            var id_cedula = localStorage.getItem("IdCedula");
        
            databaseHandler.db.transaction(
                function(tx){
                    tx.executeSql(
                        "Select * from datosGeneralesCurso where id_cedula= ?",
                        [id_cedula],
                        function(tx, results){
                            var item2 = results.rows.item(0);
                            $("#fecha").html(item2.fecha);
                            $("#nombreInstructor").html(item2.nombreInstructor);
                            $("#nombreCandidato").html(item2.nombreCandidato);
                            $("#edad").html(item2.edad);
                            $("#telCelular").html(item2.telCelular);
                            $("#antecedentesManejo").html(item2.antecedentesManejo);
                        }
                    );
                },
                function(error){},
                function(){}
            );

            var id_cedula = localStorage.getItem("IdCedula");
            form = '';
            databaseHandler.db.transaction(
                function(tx){
                    tx.executeSql(
                        "Select * from cursoCiertoFalso where id_cedula= ?",
                        [id_cedula],
                        function(tx, results){
                            var length = results.rows.length;
                            var j = 0;
                            for(var i = 0; i< length; i++){
                                j++;
                                var checked1 = '';
                                var checked2 = '';
                                var item3 = results.rows.item(i);
                                item3.Respuesta == 1 ? (checked1 = 'checked', checked2 = '') : null ;
                                item3.Respuesta == 0 ? (checked2 = 'checked', checked1 = '') : null ;
                                form += `
                                    <span class="span FWM-span-form span_options">${j}. ${item3.Pregunta}</span>
                                    <div class="container-check container_options">
                                        <label for="op${item3.IDPregunta}-1" id="label-op${item3.IDPregunta}-1" class="radios ${checked1}"><input type="radio" id="op${item3.IDPregunta}-1" style="margin-right: 15px;" onchange="validarRadioCapa(this.id,1)" ${checked1}>Lo Hace</label>
                                        <label for="op${item3.IDPregunta}-0" id="label-op${item3.IDPregunta}-0" class="radios ${checked2}"><input type="radio" id="op${item3.IDPregunta}-0" style="margin-right: 15px;" onchange="validarRadioCapa(this.id,1)" ${checked2}>No Lo Hace</label>
                                    </div>
                                `;
                            }
                            $("#evaluacion_div").html(form);
                        }
                    );
                },
                function(error){},
                function(){}
            );
        }
    }
}
</script>